<style>
  .section-{{ section.id }}.custom-marquee {
    display: flex;
    align-items: center;
    height: {{ section.settings.marquee_height }}px;
    width: 100vw;
    max-width: 100%;
    overflow-x: hidden;
    background: {{ section.settings.colorBackground }};
    color: {{ section.settings.colorText }};
  }

  .section-{{ section.id }}.custom-marquee a {
    color: {{ section.settings.colorText }};
    text-decoration: none;
  }

  .section-{{ section.id }}.custom-marquee .track {
    display: flex;
    align-items: center;
    white-space: nowrap;
    will-change: transform;
    animation: marquee 6s linear infinite;
  }

  .section-{{ section.id }}.custom-marquee .marquee-item {
    display: flex;
    align-items: center;
    margin-right: 40px;
    padding-left: 5px;
  }

  .section-{{ section.id }}.custom-marquee .marquee-logo {
    height: {{ section.settings.logo_size }}px;
    width: auto;
    display: block;
  }

  .section-{{ section.id }}.custom-marquee svg {
    fill: {{ section.settings.colorText }};
  }

  @keyframes marquee {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-20%);
    }
  }
</style>

<div class="section-{{ section.id }} custom-marquee" role="region" {{ block.shopify_attributes }}>
  {%- if section.settings.link != blank -%}
    <a href="{{ section.settings.link }}">
  {%- endif -%}
    <div class="track">
      {%- for block in section.blocks -%}
        <span class="marquee-item">
          {% if block.settings.logo_image != blank %}
            <img src="{{ block.settings.logo_image | img_url: '300x' }}" alt="Logo" class="marquee-logo" />
          {% else %}
            {{ block.settings.new_text | escape }}
          {% endif %}
        </span>
      {%- endfor -%}
      {%- if section.settings.link != blank -%}
        {% render 'icon-arrow' %}
      {%- endif -%}
    </div>
  {%- if section.settings.link != blank -%}
    </a>
  {%- endif -%}
</div>
